<script >

process.controller = {
    errMsg : "",
    groups : {  
         //groupFollowUpTLs : ["FollowUp_TLs"],    // groupFollowUpEmps : ["FollowUp_Emps"],
    },

    steps : {
        PerLeave_Launch : 'PerLeave_Launch',
        PerLeave_TLApprove: 'PerLeave_TLApprove',
        PerLeave_SupApprove: 'PerLeave_SupApprove',
        PerLeave_DeptSec: 'PerLeave_DeptSec',
        PerLeave_MngApprove: 'PerLeave_MngApprove',
        PerLeave_Update: 'PerLeave_Update',
        PerLeave_DDGApprove: 'PerLeave_DDGApprove',
        PerLeave_DDGSec: 'PerLeave_DDGSec',
        PerLeave_PersAdminSec : 'PerLeave_PersAdminSec',
        PerLeave_PersAdminEmp : 'PerLeave_PersAdminEmp',
        PerLeave_PersAdminTL : 'PerLeave_PersAdminTL',
        PerLeave_PersAdminSup : 'PerLeave_PersAdminSup',
        PerLeave_FinSec : 'PerLeave_FinSec',
        PerLeave_FinSup : 'PerLeave_FinSup',
        PerLeave_FinTL : 'PerLeave_FinTL',
        PerLeave_FinEmp : 'PerLeave_FinEmp',
    },

    forms : {
        Form_PersonalExecusePermission : new Form('Form_PersonalExecusePermission', 'نموذج استئذان شخصي للإنصراف أثناء العمل','Personal Excuse Permission'),        
    },


    defineComponents(){    
       


     
        this.forms.Form_PersonalExecusePermission.addComponent(new TxtBetweenPlainLabelsComponent('RequesterMng','السيد/ة مديرة /','Mr/Mrs Manager',20,'',''));
        this.forms.Form_PersonalExecusePermission.addComponent(new ParagraphComponent('Salute','المحترمة','With Respect',20));
        this.forms.Form_PersonalExecusePermission.addComponent(new ParagraphComponent('WelcomeLine','تحية طيبة و بعد، <br> يرجى التصريح لي بالانصراف أثناء العمل','Greetings <br> I would like permission to be excused during working hours ','text-balck font-weight-bold'));
       


        //Body

        this.forms.Form_PersonalExecusePermission.addComponent(new DateComponent('RequestDate','التاريخ','Date') );
        
        this.forms.Form_PersonalExecusePermission.addComponent(new DropDownListComponent('FromTime','من الساعة','From',[new Option('','','0'),new Option('','','0')]));
        this.forms.Form_PersonalExecusePermission.addComponent(new DropDownListComponent('ToTime','حتى الساعة','To',[new Option('','','0'),new Option('','','0')]));
     
        this.forms.Form_PersonalExecusePermission.addComponent(new NotesComponent('Reasons','وذلك للآسباب التالية','Reassons',4,300) );
       
        this.forms.Form_PersonalExecusePermission.addComponent(new TxtComponent('RequesterName','الاســم','Name',20) );
        this.forms.Form_PersonalExecusePermission.addComponent(new TxtComponent('RequesterDept','الإدارة','Dept',20) );
        this.forms.Form_PersonalExecusePermission.addComponent(new TxtComponent('EmpSignature','التوقيع','EmpSign',20) );
   
        this.forms.Form_PersonalExecusePermission.addComponent(new TxtComponent('Opinion','الرآي','Opninion',20) );



        this.forms.Form_PersonalExecusePermission.addSignature(new Signature('DeptMng','DeptMngSig','Sig','التوقيع','text-balck font-weight-bold')  );
     
    },

    main(){
        try{
            this.defineComponents();
            process.initialize();
            let stepName = process.workItem.stepName;
            process.recieversList.loadManager();
                        

            if(stepName == this.steps.PerLeave_Launch){   
            }
            else if(stepName == this.steps.PerLeave_TLApprove){
            }
        
            
            this.forms.Form_PersonalExecusePermission.select();
            this.forms.Form_PersonalExecusePermission.updateComponentsFromEntity();
                
        

            app.renderLabels();
            process.openProcessModal();
            process.setWorkFlowIDLabel();
        }
        catch(error){ throw error;}
    },

    validate(){
        //validator.markAsInvalidField('myTxt');
     },

    send(){ },

    


}

$(document).ready( ()=>{ try{ process.controller.main() }catch(error){ app.alertError(error.message); }} );
</script>

<style>
    .nav-pills .nav-link.active {
    background-color: rgb(108, 117, 126) !important;
}
</style>

<div class="container-fluid pr-1 pl-1" >
    <div class="row">
        <div class="col p-1 " >
            <nav>
                <div class="nav nav-pills mb-1 ml-auto" id="nav-tab" role="tablist"></div>
            </nav>
            <div class="tab-content shadow border border-secondary rounded p-2 bg-white" id="nav-tabContent">
                <!-- Form-PersonalExecusePermission-Tab -->
                <div class="tab-pane fade show active" id="nav-Form_PersonalExecusePermission" role="tabpanel" aria-labelledby="Form_PersonalExecusePermission-tab">
                    <!-- the main container for all Form_PersonalExecusePermission controls -->
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col p-1 mb-4" data-container-for="Form_PersonalExecusePermission_title"></div>
                        </div>

                        <div class="row">
                            <div class="col pr-3 pl-3" data-container-for="RequesterMng"></div>
                            <div class="col pr-3 pl-3" data-container-for="Salute"></div>
                        </div>
                       
                        <div class="row">
                                <div class="col pr-3 pl-3" data-container-for="WelcomeLine"></div>
                        </div>

                            <br>
                        <div class="row">
                            <div class="col-5 pr-4 pl-3" data-container-for="RequestDate"></div>
                         </div>

                             <br>


                        <div class="row">
                            <!-- <div class="col pr-3 pl-3" data-container-for="RequesterName"></div> -->
                            <div class="col pr pl-1" data-container-for=""></div>
                            <div class="col pr-3 pl-3" data-container-for="FromTime"></div>
                            <div class="col-1 pr pl" data-container-for=""></div>
                            <div class="col pr-3 pl-3" data-container-for="ToTime"></div>    
                            <div class="col pr pl-1" data-container-for=""></div>
                        </div>

                        <br>

                    
                        <div class="row">
                            <div class="col pr-3 pl-3" data-container-for="Reasons"></div>
                        </div>

                        <br>

                       

                        <div class="row">
                            <div class="col pr pl" data-container-for=""></div>
                            <div class="col pr-3 pl-3" data-container-for="RequesterName"></div>
                      
                        </div>
                     

                           

                        <div class="row">
                            <div class="col pr pl" data-container-for=""></div>
                            <div class="col pr-3 pl-3" data-container-for="RequesterDept"></div>
                        </div>

                       
                        <div class="row">
                            <div class="col pr pl" data-container-for=""></div>
                            <div class="col pr-3 pl-3" data-container-for="EmpSignature"></div>
                        </div>

                      
                        <!--long line-->
                        <br>
                        <div class="row">
                           
                            <div class="col pr-6 pl-3" data-container-for="Opinion"></div>
                        </div>
                        
                         <br>
                   
                        <div class="row p-1">
                            <div class="col pr pl-1" data-container-for=""></div>
                            <div class="col pr-3 pl-3" data-container-for="DeptMng"></div>
                      
                        </div>

  
                       
                       
                        
                     
                        
                    </div>
                </div>



                 <!-- Form-WorkDeduction-Tab -->
                <div class="tab-pane fade" id="nav-Form_WorkDeduction" role="tabpanel" aria-labelledby="Form_WorkDeduction-tab">
                    <!-- the main container for all Form_PersonalExecusePermission controls -->
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col p-3" data-container-for="Form_WorkDeduction_title"></div>
                        </div>
                        <div class="row">
                            <div class="col p-3">
                                <!-- <input placeholder="Your Date"  class="form-control" type="text" onfocus="(this.type='date')" onblur="(this.type='text')" id="date" min="2018-01-01" max="2018-12-31"> -->
                                <button type="button" class="btn btn-primary" onclick="process.controller.forms.Form_PersonalExecusePermission.disable()">disable نموذج اجازة دورية</button>
                            </div>
                            <div class="col p-3">
                                <button type="button" class="btn btn-primary" onclick="process.controller.forms.Form_PersonalExecusePermission.enable()">enable نموذج اجازة دورية</button>
                            </div>
                            <div class="col p-3">
                                <button type="button" class="btn btn-secondary" onclick="process.controller.forms.Form_WorkDeduction.show();">show نموذج انقطاع عن العمل</button>
                            </div>
                            <div class="col p-3">
                                <button type="button" class="btn btn-secondary" onclick="process.controller.forms.Form_WorkDeduction.hide();">hide نموذج انقطاع عن العمل</button>
                            </div>
                            <div class="col p-3">
                                <button type="button" class="btn btn-secondary" onclick="process.controller.forms.Form_PersonalExecusePermission.select();">goto نموذج اجازة دورية</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-right">
                    <hr>
                    <label id="workflowIDLabel" class="text-danger">مسلسل الاجراء</label>
                </div>
            </div>
        </div>
    </div>
</div>
