<script >
    
/**
 * WorkItem{
        workFlowName,workflowID,subject,recieveDate,stepNo,workFlowVersion,workFlowType,stepName,nextStepName,instructions,workObjectID,comments,action,
        sender,reciever,branch,forms,attachments
        isLastStep = false;
}
 */




process.controller = {
    errMsg : "",
    groups : {  
         //groupFollowUpTLs : ["FollowUp_TLs"],    // groupFollowUpEmps : ["FollowUp_Emps"],
    },

    steps : {
        PerLeave_Launch : 'PerLeave_Launch',
        PerLeave_TLApprove: 'PerLeave_TLApprove',
        PerLeave_SupApprove: 'PerLeave_SupApprove',
        PerLeave_DeptSec: 'PerLeave_DeptSec',
        PerLeave_MngApprove: 'PerLeave_MngApprove',
        PerLeave_Update: 'PerLeave_Update',
        PerLeave_DDGApprove: 'PerLeave_DDGApprove',
        PerLeave_DDGSec: 'PerLeave_DDGSec',
        PerLeave_PersAdminSec : 'PerLeave_PersAdminSec',
        PerLeave_PersAdminEmp : 'PerLeave_PersAdminEmp',
        PerLeave_PersAdminTL : 'PerLeave_PersAdminTL',
        PerLeave_PersAdminSup : 'PerLeave_PersAdminSup',
        PerLeave_FinSec : 'PerLeave_FinSec',
        PerLeave_FinSup : 'PerLeave_FinSup',
        PerLeave_FinTL : 'PerLeave_FinTL',
        PerLeave_FinEmp : 'PerLeave_FinEmp',
    },

    forms : {
        Form_ProgramInstallation : new Form('Form_ProgramInstallation', 'Program Installation Form','Program Installation Form'),

        
    },

    defineComponents(){ 
        this.forms.Form_ProgramInstallation.addComponent(new DateComponent('RequesterDate','Request Date','Request Date','','') );
        this.forms.Form_ProgramInstallation.addComponent(new DropDownListComponent('Priority','Priority','Priority',[new Option('','','0') ,new Option('Urgent','Urgent','1') , new Option('Normal','Normal','2')]) );
        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('MaximoNo','Maximo No','Maximo No',6) );

        this.forms.Form_ProgramInstallation.addComponent(new DateComponent('MemoDate','Memo Date','Memo Date','','') );
        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('SMRNO','SMRs No','SMRs No',35) );

        this.forms.Form_ProgramInstallation.addComponent(new DropDownListComponent('RequestType','RequestType','RequestType',[new Option('','','0') ,new Option('Install New','Install New','1') , new Option('Update','Update','2')]) );
        this.forms.Form_ProgramInstallation.addComponent(new DropDownListComponent('To','To','To',[new Option('','','0') ,new Option('LAN Section','LAN Section','1') , new Option('.Computer Services Sup','.Computer Services Sup','2')]) );

        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('ProgName','Program/Package Names','Program/Package Names',20) );
        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('SrcDes','Source Destination','Source Destination',22) );
        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('InstallLocation','Install into location','Install into location',41) );

        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('CrystalRepName','Crystal Report Names','Crystal Report Names',40) );
        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('SourceDes','Source Destination','Source Destination',22) );
        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('InstallLoc','Install into location','Install into location',41) );

        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('TxtFilesName','Text Files Names','Text Files Names',14) );
        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('SrcDestination','Source Destination','Source Destination',22) );
        this.forms.Form_ProgramInstallation.addComponent(new TxtComponent('Installocation','Install into location','Install into location',41) );

        this.forms.Form_ProgramInstallation.addComponent(new NotesComponent('InstallationRemarks','Installation Remarks','Installation Remarks',4,300) );
        
        this.forms.Form_ProgramInstallation.addSignature(new Signature('SysEng','SysName','SysEngSig','System Engineer','System Engineer') ); 
        this.forms.Form_ProgramInstallation.addSignature(new Signature('TeamLeader','TeamLdName','TeamLeaderSig','Team Leader','Team Leader') );
        this.forms.Form_ProgramInstallation.addSignature(new Signature('Sup','SupName','SupSig','Supervisor','Supervisor') );

        this.forms.Form_ProgramInstallation.addComponent(new NotesComponent('Notes','Notes and Knowledge base','Notes and Knowledge base',4,300) );

        this.forms.Form_ProgramInstallation.addSignature(new Signature('SystemEng','SysName','SysEngSig','System Engineer','System Engineer') ); 
        this.forms.Form_ProgramInstallation.addSignature(new Signature('Approve','ApprovedName','ApprovalSig','Approval','Approval') );

        this.forms.Form_ProgramInstallation.addComponent(new DateComponent('CompletionDate','Completion Date','Completion Date','','') );
    },

    main(){
        try{
            this.defineComponents();
            process.initialize();
            let stepName = process.workItem.stepName;
            process.recieversList.loadManager();

            

            if(stepName == this.steps.PerLeave_Launch){   
            }
            else if(stepName == this.steps.PerLeave_TLApprove){
            }
        
            
            /* component manipulation */ 
                //this.forms.Form_ProgramInstallation.components.RequesterDate.setValue('ABC');
                //this.forms.Form_ProgramInstallation.components.RequesterDate.disable();
                
                //this.forms.Form_ProgramInstallation.components.FromDate.setMinDate('2020-05-01');
                //this.forms.Form_ProgramInstallation.components.FromDate.setMaxDate('2020-05-10');
                
                //this.forms.Form_ProgramInstallation.components.VactionType.setValue(2);//give it the value of the option object to be selected
                //alert(this.forms.Form_ProgramInstallation.components.VactionType.getText()); // retrieves the shown selected text
                //this.forms.Form_ProgramInstallation.components.VactionType.setOptions([new Option('','','')]); //load different options
                //this.forms.Form_ProgramInstallation.components.VactionType.addOption( new Option('x','x','3') );
                //this.forms.Form_ProgramInstallation.components.VactionType.addOption(new Option('y','y','4') );
                //this.forms.Form_ProgramInstallation.components.VactionType.setValue('3');
                //this.forms.Form_ProgramInstallation.components.VactionType.removeOptionByValue('4');
                
                //this.forms.Form_ProgramInstallation.components.IsPaid.disable();
                //this.forms.Form_ProgramInstallation.components.IsPaid.setValue(true);
                //this.forms.Form_ProgramInstallation.components.IsPaid.check();
                //this.forms.Form_ProgramInstallation.components.IsPaid.uncheck();

                //this.forms.Form_ProgramInstallation.components.SupSignature.enable();
            



            
            /* form manipulation */
                //this.forms.Form_ProgramInstallation.enable();
                //this.forms.Form_ProgramInstallation.disable();
                this.forms.Form_ProgramInstallation.select();
                this.forms.Form_ProgramInstallation.updateComponentsFromEntity();
                
        




            app.renderLabels();
            process.openProcessModal();
            process.setWorkFlowIDLabel();
        }
        catch(error){ throw error;}
    },

    validate(){
        //validator.markAsInvalidField('myTxt');
     },

    send(){ },

    
    // testSignature(){
    //     util.viewObjectContent(this.forms.Form_ProgramInstallation.components.SupSignature.getSigner()); 
    // },


}

$(document).ready( ()=>{ try{ process.controller.main(); }catch(error){ app.alertError(error.message); }} );
</script>


<div class="container-fluid pr-1 pl-1" >
    <div class="row">
        <div class="col p-1 " >
            <nav>
                <div class="nav nav-pills mb-1 ml-auto" id="nav-tab" role="tablist"></div>
            </nav>
            <div class="tab-content shadow border border-secondary rounded p-2 bg-white" id="nav-tabContent">
                <!-- Form_ProgramInstallation -->
                <div class="tab-pane fade show active" id="nav-Form_ProgramInstallation" role="tabpanel" aria-labelledby="Form_ProgramInstallation-tab">
                    <!-- the main container for all Form_ProgramInstallation controls -->
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col p-1 mb-4" data-container-for="Form_ProgramInstallation_title"></div>
                        </div>

                        <div style="text-align: left; font-weight: bold;">Systems Section</div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="MaximoNo"></div>
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="Priority"></div>
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="RequesterDate"></div>
                        </div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2"></div>
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="SMRNO"></div>
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="MemoDate"></div>
                        </div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2"></div>
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="To"></div>
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="RequestType"></div>
                        </div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="ProgName" ></div>
                        </div>
                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="SrcDes" ></div>
                        </div>
                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="InstallLocation" ></div>
                        </div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="CrystalRepName" ></div>
                        </div>

                        <div class="row pt-5">
                            <div ></div>
                        </div>


                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="SrcDestination" ></div>
                        </div>
                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="InstallLoc" ></div>
                        </div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="TxtFilesName" ></div>
                        </div>
                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="SourceDes" ></div>
                        </div>
                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="Installocation" ></div>
                        </div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" data-container-for="InstallationRemarks"></div>
                        </div>
                        
                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2 pb-2" data-container-for="Sup"></div>
                            <div class="col pr-3 pl-3 pt-2 pb-2" data-container-for="TeamLeader"></div>
                            <div class="col pr-3 pl-3 pt-2 pb-2" data-container-for="SysEng"></div>
                        </div>

                        <div style="text-align: left; font-weight: bold;">Operations Section</div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" data-container-for="Notes"></div>
                        </div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2" data-container-for="Approve"></div>
                            <div class="col pr-3 pl-3 pt-2"></div>
                            <div class="col pr-3 pl-3 pt-2" data-container-for="SystemEng"></div>
                        </div>

                        <div class="row">
                            <div class="col pr-3 pl-3 pt-2"></div>
                            <div class="col pr-3 pl-3 pt-2"></div>
                            <div class="col pr-3 pl-3 pt-2" style="direction:ltr;" data-container-for="CompletionDate"></div>
                        </div>
                    </div>
                </div>




                <div class="text-right">
                    <hr>
                    <label id="workflowIDLabel" class="text-danger">مسلسل الاجراء</label>
                </div>
            </div>
        </div>
    </div>
</div>
